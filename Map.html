<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Map</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <link href="css/styles.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster-src.js"></script>
    <!-- Time Slider -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.3/nouislider.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.3/nouislider.min.js"></script>

    <style>
        #map {
            position: relative;
            height: 90vh;
            width: 100%;
            z-index: 1000;
            margin-top: 90px;
        }
    </style>
</head>

<body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
            <div class="container px-5">
                <a class="navbar-brand" href="index.html">Walk Down Memory Lane</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                        <div class="nav-item dropdown">
                             <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">About</a>
                            <div class="dropdown-menu m-0">
                             <a href="The Project.html" class="dropdown-item">The Project</a>
                             <a href="The Creator.html" class="dropdown-item">The Creator</a>
                            </div>
                        </div>
                        <div class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">AR Experience</a>
                            <div class="dropdown-menu m-0">
                             <a href="What is AR?.html" class="dropdown-item">What is AR?</a>
                             <a href="Heritage Projects.html" class="dropdown-item">Heritage Projects</a>
                            </div>
                        </div>
                        <div class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Main Street Romeo, MI.</a>
                            <div class="dropdown-menu m-0">
                            <a href="Locations.html" class="dropdown-item">Locations</a>
                            <a href="Map.html" class="dropdown-item">Map</a>
                             <a href="Share Your Memories.html" class="dropdown-item">Share Your Memories</a>
                            </div>
                        </div>
                        <li class="nav-item"><a class="nav-link" href="Contact.html">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    <div id="map"></div>
    </div>
</header>

   <script>
       // Initialize map centered in the USA
        var map = L.map('map').setView([42.80260603873673, -83.01341495806903], 17.4);
        var baseLayer = L.tileLayer('https://api.maptiler.com/maps/bright-v2/{z}/{x}/{y}.png?key=9ZlnxkRt2oS8TwA1JdFu', {
            attribution: '&copy; MapTiler &copy; OpenStreetMap contributors'
        });

        var iconOptions = {
            iconUrl: "images/mappin.png", // Updated to use your custom icon
            iconSize: [40, 40]
        };
        var customIcon = L.icon(iconOptions);
        var markerOptions = { icon: customIcon };
        
        // Add the zoom control on the right side
            L.control.zoom({
             position: 'bottomright' // This will place the zoom controls on the top-right
            }).addTo(map);

        // Event locations with year NOT WORKING
// locations with timestamps
var markers = [
        {
        position: [42.80357871998362, -83.01369405974091],
        popup: `
        <b>Gray's Block</b>
        <p>Built in 1869, the Gray's Block is is the only remaining Opera House in Michigan from this period. Learn about its history.</p>
        <p><a href="Gray's Block.html">Learn More</a></p>
        <img src="images/grays.jpg" style="width: 150px">
        `,
        }
        ];

        
        markers.push({
        position: [42.80356734368129, -83.01326765439258],
        popup: `
        <b>Main Street Looking South</b>
        <p>See how much Main Street has changed by clicking the link below.</p>
        <p><a href="Main Street Looking South.html">Learn More</a></p>
        <img src="images/streetsouth.png" style="width: 150px">
        `,
        });
        
        markers.push({
        position: [42.80274824454993, -83.01360877865822],
        popup: `
        <b>Citizens National Bank</b>
        <p>From grocery store in the early 1900s to a community bank, to antique mall and now a coffee house, learn more about its diverse history.</p>
        <p><a href="Citizens National Bank.html">Learn More</a></p>
        <img src="images/citizensbank.jpg" style="width: 150px">
        `,
        });
        
        markers.push({
        position: [42.80248089734905, -83.01363978997139],
        popup: `
        <b>Romeo Savings Bank</b>
        <p>Built in 1863, this bank drew interest from the Dodge Brothers. Learn more about its evolution in Romeo.</p>
        <p><a href="Romeo Savings Bank.html">Learn More</a></p>
        <img src="images/savingsbank.jpg" style="width: 150px">
        `,
        });

        markers.push({
        position: [42.80149113381764, -83.01361653148244],
        popup: `
        <b>American Hotel</b>
        <p>Did you know there was a hotel on Main Street? Learn more about this location built in the early 1860s.</p>
        <p><a href="American Hotel.html">Learn More</a></p>
        <img src="images/hotel.jpg" style="width: 150px">
        `,
        });

        markers.push({
        position: [42.801627, -83.013286],
        popup: `
        <b>Main Street Looking North</b>
        <p>See how much Main Street has changed by clicking the link below.</p>
        <p><a href="Main Street Looking North.html">Learn More</a></p>        
        <img src="images/streetnorth.jpg" style="width: 150px">
        `,
        });

        var eventsLayer = L.layerGroup();
        markers.forEach(function(event) {
            var marker = L.marker(event.position, markerOptions).bindPopup(event.popup);
            marker.options.year = event.year; // Add custom year property
            eventsLayer.addLayer(marker);
        });

        baseLayer.addTo(map);
        eventsLayer.addTo(map);
    </script>
        <!-- Footer-->
        <footer class="py-4 bg-black">
            <div class="container px-5"><p class="m-0 text-center text-white small">Copyright &copy; Walk Down Memory Lane, 2025</p></div>
        </footer>
</body>

</html>
