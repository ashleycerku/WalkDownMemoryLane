<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Walk Down Memory Lane</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <link href="css/styles.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster-src.js"></script>
    <!-- Time Slider -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.3/nouislider.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.3/nouislider.min.js"></script>

    <style>
        #map {
            position: absolute;
            height: 85vh;
            width: 100%;
        }
        #slider-container {
            position: absolute;
            bottom: 20px;
            left: 10%;
            width: 80%;
            z-index: 1000;
        }
    </style>
</head>

<body>
    <!-- Responsive navbar NEED TO FIX-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#!">Walk Down Memory Lane</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link active" aria-current="page" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div id="map"></div>
    <div id="slider-container">
        <div id="time-slider"></div>
    </div>
    <script>
        // Initialize map centered in the USA
        var map = L.map('map').setView([42.802524, -83.013439], 20);
        var baseLayer = L.tileLayer('https://api.maptiler.com/maps/bright-v2/{z}/{x}/{y}.png?key=9ZlnxkRt2oS8TwA1JdFu', {
            attribution: '&copy; MapTiler &copy; OpenStreetMap contributors'
        });

        var iconOptions = {
            iconUrl: "images/pin.png", // Updated to use your custom icon
            iconSize: [55, 55]
        };
        var customIcon = L.icon(iconOptions);
        var markerOptions = { icon: customIcon };

        // Event locations with year NOT WORKING
// locations with timestamps
var markers = [
        {
        position: [42.8035552, -83.016268],
        popup: `
        <b>Grays Block</b>
        <br>Heading 2<br>
        <p>Text</p>
        <img src="header.jpg">
        `,
        }
        ];

        markers.push({
        position: [42.8035552, -83.016268],
        popup: `
        <b>Greenbow, Alabama (filmed at Bluff Plantation)</b>
        <br>Elvis Presley Visits<br>
        <p>As a single mother, Mrs. Gump made their home into a bed and breakfast for money. One such guest was Elvis Presley. In one scene, Forrest is dancing while Elvis is playing the guitar. Because Forrest is wearing leg braces, the dancing is jolted and odd, however Forrest and Mrs. Gump later see Elvis impersonating Forrest’s dancing while singing “Hound Dog” on television.</p>
        <p>This scene is significant to connect Forrest’s story to America in the 1950s, especially to understanding cultural events like the emergence of rock and roll and icons like Elvis Presley.</p>
        <img src="headr.jpg">
        `,
        year: 1951
        });

        var eventsLayer = L.layerGroup();
        markers.forEach(function(event) {
            var marker = L.marker(event.position, markerOptions).bindPopup(event.popup);
            marker.options.year = event.year; // Add custom year property
            eventsLayer.addLayer(marker);
        });

        baseLayer.addTo(map);
        eventsLayer.addTo(map);
    </script>
</body>

</html>
